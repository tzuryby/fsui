<div class="group-box ui-corner-all ui-widget-content" id="dialplan-container">
    <h3>{{_("Destination Matching SIP/PRI Bridge")}}</h3>
    <input type="text" class="ui-widget-content ui-corner-all dialplan_exp halfscreen-input" 
        value="{{ data['expression'] }}"/>
    <p/>
    <button id="save_dialplan_exp">{{_("Save")}}</button>
    <div class="group-box ui-corner-all ui-widget-content">
        <h3>{{ _("Test matching numbers") }}</h3>
        <input type="text" class="ui-corner-all" id="regexp-snadbox" value="{{data['first-xtn']}}"/>
        <span id="regexp-sandbox-output"></span>
    </div>
</div>

<div class="group-box ui-corner-all ui-widget-content" id="new-directory">
    <h3>{{_("Range of extensions")}}</h3>
    <h5>{{_("Re-Initialize Directory")}}</h5>
    <table>
        <tbody>
            <tr><th style="text-align:right">{{_("Starting Number")}}:</th><td><input id="new-start" type="text" class="ui-widget-content ui-corner-all" value="{{data['first-xtn']}}" /></td></tr>
            <tr><th style="text-align:right">{{_("Ending Number")}}:</th><td><span id="new-end">{{data['last-xtn']}}</span></td></tr>
        </tbody>    
    </table>
    <p/>
    <button id="gen-new-range">{{_("Generate New Extensions")}}</button>
    
</div>

<script>
    (function(){
        $("#new-start").keyup(function(){
            var new_start = $(this).val();            
            if (!/^\d+$/.test(new_start)){
                alert("Numbers only!");
            }
            else{
                $("#new-end").html((Number(new_start)+30).toString());
            }
        });
    })();
</script>